<div class="print-container" *ngIf="!isLoading && item">
  <!-- Header -->
  <div class="print-header">
    <div class="header-logo">
      <img src="assets/img/afg.png" alt="نشان ملی افغانستان" class="logo">
    </div>
    <div class="header-title">
      <h1>امارت اسلامی افغانستان</h1>
      <h2>وزارت عدلیه</h2>
      <h3>معینیت مالی و اداری</h3>
      <h4>ریاست عمومی انسجام</h4>
      <h5>ریاست امور رهنمای معاملات و عریضه نویسان</h5>
      <h6>مدیریت عمومی توزیع اسناد بهادار</h6>
      <h6>مدیریت توزیع سته ها و کتاب ثبت</h6>
    </div>
    <div class="header-logo">
      <img src="assets/img/mcitlogo.png" alt="Ministry Logo" class="logo">
    </div>
  </div>
  
  <div class="header-info">
    <p><strong>نمبر ثبت تعرفه:</strong> {{ item.registrationNumber }}</p>
    <p><strong>تاریخ توزیع:</strong> {{ item.distributionDateFormatted || '-' }}</p>
  </div>

  <!-- Section 1: مشخصات عریضه‌نویس -->
  <div class="print-section">
    <h4 class="section-title">
      <i class="fas fa-user"></i>
      مشخصات عریضه‌نویس
    </h4>
    <table class="info-table">
      <tr>
        <td class="label">نمبر ثبت تعرفه:</td>
        <td class="value">{{ item.registrationNumber }}</td>
        <td class="label">نمبر جواز عریضه‌نویس / وکیل:</td>
        <td class="value">{{ item.licenseNumber }}</td>
      </tr>
      <tr>
        <td class="label">اسم عریضه نویس / وکیل:</td>
        <td class="value">{{ item.petitionWriterName }}</td>
        <td class="label">اسم پدر عریضه‌نویس / وکیل:</td>
        <td class="value">{{ item.petitionWriterFatherName }}</td>
      </tr>
    </table>
  </div>

  <!-- Section 2: مشخصات سند بهادار عریضه -->
  <div class="print-section">
    <h4 class="section-title">
      <i class="fas fa-file-alt"></i>
      مشخصات سند بهادار عریضه
    </h4>
    <table class="info-table">
      <tr>
        <td class="label">تعداد عریضه:</td>
        <td class="value">{{ item.petitionCount | number }}</td>
        <td class="label">مبلغ پول:</td>
        <td class="value total">{{ item.amount | number }} افغانی</td>
      </tr>
      <tr>
        <td class="label">آویز نمبر بانکی:</td>
        <td class="value">{{ item.bankReceiptNumber }}</td>
        <td class="label">تاریخ توزیع عریضه:</td>
        <td class="value">{{ item.distributionDateFormatted || '-' }}</td>
      </tr>
      <tr>
        <td class="label">آغاز سریال نمبر عریضه:</td>
        <td class="value highlight">{{ item.serialNumberStart }}</td>
        <td class="label">ختم سریال نمبر عریضه:</td>
        <td class="value highlight">{{ item.serialNumberEnd }}</td>
      </tr>
    </table>
  </div>

  <!-- Signatures -->
  <div class="signatures">
    
    <div class="signature-box">
      <p class="signature-label">امضای مدیر توزیع سټه ها وکتاب ثبت</p>
      <div class="signature-line"></div>
    </div>

    <div class="signature-box">
      <p class="signature-label">امضای تسلیم شونده</p>
      <div class="signature-line"></div>
    </div>
  </div>

  <!-- Footer -->
  <div class="print-footer">
    <p>این سند رسمی بوده و جعل آن جرم پنداشته می‌شود</p>
    <p class="print-date">تاریخ چاپ: {{ printDate }}</p>
  </div>
</div>

<!-- Loading State -->
<div *ngIf="isLoading" class="loading-container">
  <div class="loading-spinner"></div>
  <p>در حال بارگذاری...</p>
</div>

<!-- Error State -->
<div *ngIf="!isLoading && error" class="error-container">
  <i class="fas fa-exclamation-triangle"></i>
  <p>{{ error }}</p>
  <button (click)="goBack()" class="back-btn">بازگشت</button>
</div>
