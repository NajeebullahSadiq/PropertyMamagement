<div class="w-full my-3">
  <div class="flex flex-col gap-3">
    <input type="file" #file placeholder="Choose file" (change)="uploadFile(file.files)" class="hidden" accept="image/*,.pdf,.doc,.docx,.xls,.xlsx,.txt">
    <button type="button" class="inline-flex items-center gap-2 px-5 py-2.5 border-2 border-gray-300 hover:border-blue-500 text-gray-700 hover:text-blue-600 bg-white hover:bg-blue-50 rounded-lg font-medium transition-all duration-300 disabled:opacity-60 disabled:cursor-not-allowed" (click)="file.click()" [disabled]="isUploading">
      <i class="fas fa-cloud-upload-alt text-lg"></i>
      <span>انتخاب فایل</span>
    </button>
    
    <div class="flex items-center gap-3" *ngIf="progress > 0 && isUploading">
      <div class="flex-1 h-1.5 bg-gray-200 rounded-full overflow-hidden">
        <div class="h-full bg-gradient-to-r from-blue-500 to-purple-600 transition-all duration-300 rounded-full" [style.width.%]="progress"></div>
      </div>
      <span class="min-w-[40px] text-sm font-semibold text-blue-600">{{ progress }}%</span>
    </div>

    <div class="flex items-center gap-2.5 px-4 py-3 bg-green-50 border border-green-200 rounded-lg text-green-800 font-medium" *ngIf="message && !isUploading">
      <i class="fas fa-check-circle text-lg text-green-600"></i>
      <span>{{ message }}</span>
    </div>

    <div class="flex items-center justify-between px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg hover:bg-white hover:shadow-md transition-all duration-300" *ngIf="uploadedFilePath && !isUploading">
      <div class="flex items-center gap-3 flex-1">
        <i [class]="'fas text-2xl text-blue-600 ' + getFileIcon(uploadedFileName)"></i>
        <div class="flex flex-col gap-0.5">
          <p class="text-sm font-semibold text-gray-800 break-words">{{ uploadedFileName }}</p>
          <p class="text-xs text-gray-500">{{ getFileTypeLabel(uploadedFileName) }}</p>
        </div>
      </div>
      <div class="flex gap-2">
        <button type="button" class="px-2.5 py-1.5 bg-blue-500 hover:bg-blue-600 text-white rounded-md transition-all duration-300 hover:shadow-md transform hover:-translate-y-0.5" (click)="viewFile()" title="مشاهده">
          <i class="fas fa-eye text-sm"></i>
        </button>
        <button type="button" class="px-2.5 py-1.5 bg-cyan-500 hover:bg-cyan-600 text-white rounded-md transition-all duration-300 hover:shadow-md transform hover:-translate-y-0.5" (click)="downloadFile()" title="دانلود">
          <i class="fas fa-download text-sm"></i>
        </button>
        <button type="button" class="px-2.5 py-1.5 bg-red-500 hover:bg-red-600 text-white rounded-md transition-all duration-300 hover:shadow-md transform hover:-translate-y-0.5" (click)="deleteFile()" title="حذف">
          <i class="fas fa-trash text-sm"></i>
        </button>
      </div>
    </div>
  </div>
</div>