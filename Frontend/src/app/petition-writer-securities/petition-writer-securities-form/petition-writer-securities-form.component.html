<section class="w-full min-h-screen bg-gradient-to-br from-slate-50 via-gray-50 to-slate-100 py-8">
  <div class="max-w-7xl mx-auto px-4 sm:px-6">
    <!-- Page Header -->
    <div class="mb-8 text-center">
      <div class="inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 shadow-lg shadow-blue-500/30 mb-4">
        <i class="fas fa-file-invoice text-white text-2xl"></i>
      </div>
      <h1 class="text-3xl font-bold text-gray-800 mb-2">{{ isEditMode ? 'ویرایش' : 'ثبت' }} سند بهادار عریضه‌ نویسان</h1>
      <p class="text-gray-500 max-w-md mx-auto">لطفاً تمام معلومات مربوط به سند بهادار را با دقت تکمیل نمایید</p>
    </div>

    <form [formGroup]="petitionForm" (ngSubmit)="onSubmit()">
      <div class="hidden">
        <input type="hidden" formControlName="id">
      </div>

      <!-- Section 1: مشخصات عریضه‌نویس -->
      <div class="bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden mb-6 hover:shadow-xl transition-shadow duration-300">
        <div class="bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-4">
          <h2 class="text-lg font-bold text-white flex items-center gap-3">
            <div class="w-8 h-8 rounded-lg bg-white/20 flex items-center justify-center">
              <i class="fas fa-user text-sm"></i>
            </div>
            <span>مشخصات عریضه‌نویس</span>
          </h2>
        </div>
        <div class="p-6">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- نمبر ثبت تعرفه -->
            <div class="form-group">
              <label class="block text-sm font-semibold text-gray-700 mb-2">نمبر ثبت تعرفه <span class="text-red-500">*</span></label>
              <div class="relative">
                <span class="absolute inset-y-0 left-0 flex items-center pl-4 text-gray-400">
                  <i class="fas fa-hashtag"></i>
                </span>
                <input type="text" formControlName="registrationNumber"
                  class="form-input w-full px-4 py-3 pl-12 border-2 rounded-xl transition-all"
                  [ngClass]="{'border-red-300 focus:ring-red-500/20 focus:border-red-500': registrationNumber?.invalid && registrationNumber?.touched, 'border-gray-200 focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500': !(registrationNumber?.invalid && registrationNumber?.touched)}"
                  placeholder="نمبر ثبت تعرفه را وارد کنید">
              </div>
              <div *ngIf="registrationNumber?.invalid && registrationNumber?.touched">
                <small class="text-red-500 text-xs mt-1 flex items-center gap-1"><i class="fas fa-exclamation-circle"></i>این فیلد الزامی است</small>
              </div>
            </div>

            <!-- اسم عریضه نویس / وکیل -->
            <div class="form-group">
              <label class="block text-sm font-semibold text-gray-700 mb-2"> اسم عریضه نویس / وکیل <span class="text-red-500">*</span></label>
              <div class="relative">
                <span class="absolute inset-y-0 left-0 flex items-center pl-4 text-gray-400">
                  <i class="fas fa-user"></i>
                </span>
                <input type="text" formControlName="petitionWriterName"
                  class="form-input w-full px-4 py-3 pl-12 border-2 rounded-xl transition-all"
                  [ngClass]="{'border-red-300 focus:ring-red-500/20 focus:border-red-500': petitionWriterName?.invalid && petitionWriterName?.touched, 'border-gray-200 focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500': !(petitionWriterName?.invalid && petitionWriterName?.touched)}"
                  placeholder="اسم عریضه نویس / وکیل را وارد کنید">
              </div>
              <div *ngIf="petitionWriterName?.invalid && petitionWriterName?.touched">
                <small class="text-red-500 text-xs mt-1 flex items-center gap-1"><i class="fas fa-exclamation-circle"></i>این فیلد الزامی است</small>
              </div>
            </div>

            <!-- اسم پدر عریضه‌نویس / وکیل -->
            <div class="form-group">
              <label class="block text-sm font-semibold text-gray-700 mb-2">اسم پدر عریضه‌نویس / وکیل <span class="text-red-500">*</span></label>
              <div class="relative">
                <span class="absolute inset-y-0 left-0 flex items-center pl-4 text-gray-400">
                  <i class="fas fa-user-friends"></i>
                </span>
                <input type="text" formControlName="petitionWriterFatherName"
                  class="form-input w-full px-4 py-3 pl-12 border-2 rounded-xl transition-all"
                  [ngClass]="{'border-red-300 focus:ring-red-500/20 focus:border-red-500': petitionWriterFatherName?.invalid && petitionWriterFatherName?.touched, 'border-gray-200 focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500': !(petitionWriterFatherName?.invalid && petitionWriterFatherName?.touched)}"
                  placeholder="اسم پدر عریضه‌نویس / وکیل را وارد کنید">
              </div>
              <div *ngIf="petitionWriterFatherName?.invalid && petitionWriterFatherName?.touched">
                <small class="text-red-500 text-xs mt-1 flex items-center gap-1"><i class="fas fa-exclamation-circle"></i>این فیلد الزامی است</small>
              </div>
            </div>

            <!-- نمبر جواز عریضه‌نویس / وکیل -->
            <div class="form-group">
              <label class="block text-sm font-semibold text-gray-700 mb-2">نمبر جواز عریضه‌نویس / وکیل <span class="text-red-500">*</span></label>
              <div class="relative">
                <span class="absolute inset-y-0 left-0 flex items-center pl-4 text-gray-400">
                  <i class="fas fa-id-card"></i>
                </span>
                <input type="text" formControlName="licenseNumber"
                  class="form-input w-full px-4 py-3 pl-12 border-2 rounded-xl transition-all"
                  [ngClass]="{'border-red-300 focus:ring-red-500/20 focus:border-red-500': licenseNumber?.invalid && licenseNumber?.touched, 'border-gray-200 focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500': !(licenseNumber?.invalid && licenseNumber?.touched)}"
                  placeholder="نمبر جواز عریضه‌نویس / وکیل را وارد کنید">
              </div>
              <div *ngIf="licenseNumber?.invalid && licenseNumber?.touched">
                <small class="text-red-500 text-xs mt-1 flex items-center gap-1"><i class="fas fa-exclamation-circle"></i>این فیلد الزامی است</small>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Section 2: مشخصات سند بهادار عریضه -->
      <div class="bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden mb-6 hover:shadow-xl transition-shadow duration-300">
        <div class="bg-gradient-to-r from-emerald-600 to-green-600 px-6 py-4">
          <h2 class="text-lg font-bold text-white flex items-center gap-3">
            <div class="w-8 h-8 rounded-lg bg-white/20 flex items-center justify-center">
              <i class="fas fa-file-alt text-sm"></i>
            </div>
            <span>مشخصات سند بهادار عریضه</span>
          </h2>
        </div>
        <div class="p-6">
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <!-- تعداد عریضه -->
            <div class="form-group">
              <label class="block text-sm font-semibold text-gray-700 mb-2">تعداد عریضه <span class="text-red-500">*</span></label>
              <div class="relative">
                <span class="absolute inset-y-0 left-0 flex items-center pl-4 text-gray-400">
                  <i class="fas fa-sort-numeric-up"></i>
                </span>
                <input type="text" appNumericInput formControlName="petitionCount"
                  class="form-input w-full px-4 py-3 pl-12 border-2 rounded-xl transition-all"
                  [ngClass]="{'border-red-300 focus:ring-red-500/20 focus:border-red-500': petitionCount?.invalid && petitionCount?.touched, 'border-gray-200 focus:ring-4 focus:ring-emerald-500/20 focus:border-emerald-500': !(petitionCount?.invalid && petitionCount?.touched)}"
                  placeholder="تعداد عریضه را وارد کنید">
              </div>
              <div *ngIf="petitionCount?.invalid && petitionCount?.touched">
                <small class="text-red-500 text-xs mt-1 flex items-center gap-1" *ngIf="petitionCount?.errors?.['required']"><i class="fas fa-exclamation-circle"></i>این فیلد الزامی است</small>
                <small class="text-red-500 text-xs mt-1 flex items-center gap-1" *ngIf="petitionCount?.errors?.['min']"><i class="fas fa-exclamation-circle"></i>تعداد باید بزرگتر از صفر باشد</small>
              </div>
            </div>

            <!-- مبلغ پول -->
            <div class="form-group">
              <label class="block text-sm font-semibold text-gray-700 mb-2">مبلغ پول <span class="text-red-500">*</span></label>
              <div class="relative">
                <span class="absolute inset-y-0 left-0 flex items-center pl-4 text-gray-400">
                  <i class="fas fa-money-bill-alt"></i>
                </span>
                <input type="text" appNumericInput [allowDecimal]="true" formControlName="amount"
                  class="form-input w-full px-4 py-3 pl-12 border-2 rounded-xl transition-all"
                  [ngClass]="{'border-red-300 focus:ring-red-500/20 focus:border-red-500': amount?.invalid && amount?.touched, 'border-gray-200 focus:ring-4 focus:ring-emerald-500/20 focus:border-emerald-500': !(amount?.invalid && amount?.touched)}"
                  placeholder="مبلغ پول را وارد کنید">
              </div>
              <div *ngIf="amount?.invalid && amount?.touched">
                <small class="text-red-500 text-xs mt-1 flex items-center gap-1" *ngIf="amount?.errors?.['required']"><i class="fas fa-exclamation-circle"></i>این فیلد الزامی است</small>
                <small class="text-red-500 text-xs mt-1 flex items-center gap-1" *ngIf="amount?.errors?.['min']"><i class="fas fa-exclamation-circle"></i>مبلغ باید عدد مثبت باشد</small>
              </div>
            </div>

            <!-- آویز نمبر بانکی -->
            <div class="form-group">
              <label class="block text-sm font-semibold text-gray-700 mb-2">آویز نمبر بانکی <span class="text-red-500">*</span></label>
              <div class="relative">
                <span class="absolute inset-y-0 left-0 flex items-center pl-4 text-gray-400">
                  <i class="fas fa-receipt"></i>
                </span>
                <input type="text" formControlName="bankReceiptNumber"
                  class="form-input w-full px-4 py-3 pl-12 border-2 rounded-xl transition-all"
                  [ngClass]="{'border-red-300 focus:ring-red-500/20 focus:border-red-500': bankReceiptNumber?.invalid && bankReceiptNumber?.touched, 'border-gray-200 focus:ring-4 focus:ring-emerald-500/20 focus:border-emerald-500': !(bankReceiptNumber?.invalid && bankReceiptNumber?.touched)}"
                  placeholder="آویز نمبر بانکی را وارد کنید">
              </div>
              <div *ngIf="bankReceiptNumber?.invalid && bankReceiptNumber?.touched">
                <small class="text-red-500 text-xs mt-1 flex items-center gap-1"><i class="fas fa-exclamation-circle"></i>این فیلد الزامی است</small>
              </div>
            </div>

            <!-- آغاز سریال نمبر عریضه -->
            <div class="form-group">
              <label class="block text-sm font-semibold text-gray-700 mb-2">آغاز سریال نمبر عریضه <span class="text-red-500">*</span></label>
              <div class="relative">
                <span class="absolute inset-y-0 left-0 flex items-center pl-4 text-gray-400">
                  <i class="fas fa-barcode"></i>
                </span>
                <input type="text" formControlName="serialNumberStart"
                  class="form-input w-full px-4 py-3 pl-12 border-2 rounded-xl transition-all"
                  [ngClass]="{'border-red-300 focus:ring-red-500/20 focus:border-red-500': serialNumberStart?.invalid && serialNumberStart?.touched, 'border-gray-200 focus:ring-4 focus:ring-emerald-500/20 focus:border-emerald-500': !(serialNumberStart?.invalid && serialNumberStart?.touched)}"
                  placeholder="آغاز سریال نمبر عریضه را وارد کنید">
              </div>
              <div *ngIf="serialNumberStart?.invalid && serialNumberStart?.touched">
                <small class="text-red-500 text-xs mt-1 flex items-center gap-1"><i class="fas fa-exclamation-circle"></i>این فیلد الزامی است</small>
              </div>
            </div>

            <!-- ختم سریال نمبر عریضه -->
            <div class="form-group">
              <label class="block text-sm font-semibold text-gray-700 mb-2">ختم سریال نمبر عریضه <span class="text-red-500">*</span></label>
              <div class="relative">
                <span class="absolute inset-y-0 left-0 flex items-center pl-4 text-gray-400">
                  <i class="fas fa-barcode"></i>
                </span>
                <input type="text" formControlName="serialNumberEnd"
                  class="form-input w-full px-4 py-3 pl-12 border-2 rounded-xl transition-all"
                  [ngClass]="{'border-red-300 focus:ring-red-500/20 focus:border-red-500': serialNumberEnd?.invalid && serialNumberEnd?.touched, 'border-gray-200 focus:ring-4 focus:ring-emerald-500/20 focus:border-emerald-500': !(serialNumberEnd?.invalid && serialNumberEnd?.touched)}"
                  placeholder="ختم سریال نمبر عریضه را وارد کنید">
              </div>
              <div *ngIf="serialNumberEnd?.invalid && serialNumberEnd?.touched">
                <small class="text-red-500 text-xs mt-1 flex items-center gap-1"><i class="fas fa-exclamation-circle"></i>این فیلد الزامی است</small>
              </div>
            </div>

            <!-- تاریخ توزیع عریضه -->
            <div class="form-group">
              <app-multi-calendar-datepicker formControlName="distributionDate" label="تاریخ توزیع عریضه" [required]="true"></app-multi-calendar-datepicker>
              <div *ngIf="distributionDate?.invalid && distributionDate?.touched">
                <small class="text-red-500 text-xs mt-1 flex items-center gap-1"><i class="fas fa-exclamation-circle"></i>این فیلد الزامی است</small>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden mb-6">
        <div class="p-6">
          <div class="flex flex-wrap gap-4 justify-center">
            <button type="submit" class="px-8 py-3.5 bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white font-bold rounded-xl shadow-lg shadow-emerald-500/30 hover:shadow-xl hover:shadow-emerald-500/40 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-3 hover:-translate-y-0.5 active:translate-y-0">
              <i class="fas fa-save"></i>
              <span>{{ isEditMode ? 'ذخیره تغییرات' : 'ثبت معلومات' }}</span>
            </button>
            <button type="button" (click)="resetForm()" class="px-8 py-3.5 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white font-bold rounded-xl shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 transition-all duration-300 flex items-center gap-3 hover:-translate-y-0.5 active:translate-y-0">
              <i class="fas fa-plus-circle"></i>
              <span>ثبت جدید</span>
            </button>
            <button type="button" (click)="goToList()" class="px-8 py-3.5 bg-gradient-to-r from-gray-400 to-gray-500 hover:from-gray-500 hover:to-gray-600 text-white font-bold rounded-xl shadow-lg shadow-gray-400/30 hover:shadow-xl hover:shadow-gray-400/40 transition-all duration-300 flex items-center gap-3 hover:-translate-y-0.5 active:translate-y-0">
              <i class="fas fa-times"></i>
              <span>لغو</span>
            </button>
          </div>
        </div>
      </div>
    </form>
  </div>
</section>


