<!-- Modal Header -->
<div class="modal-header" dir="rtl">
  <div class="header-content">
    <div class="header-icon">
      <i class="fas fa-key"></i>
    </div>
    <div class="header-text">
      <h2 class="modal-title">تغییر پسورد</h2>
      <p class="modal-subtitle">پسورد فعلی خود را تغییر دهید</p>
    </div>
  </div>
  <button type="button" class="close-btn" (click)="close()">
    <i class="fas fa-times"></i>
  </button>
</div>

<!-- Modal Body -->
<form #myForm="ngForm" (ngSubmit)="changePassword()" class="modal-body" dir="rtl">
  <!-- Current Password -->
  <div class="form-group">
    <label class="form-label">
      <i class="fas fa-lock label-icon"></i>
      پسورد فعلی
      <span class="required-star">*</span>
    </label>
    <div class="input-wrapper">
      <input 
        [type]="showCurrentPassword ? 'text' : 'password'" 
        class="form-input" 
        id="password" 
        [(ngModel)]="model.password" 
        name="password" 
        #password="ngModel" 
        required
        placeholder="پسورد فعلی را وارد کنید"
        dir="ltr">
      <button type="button" class="toggle-password" (click)="showCurrentPassword = !showCurrentPassword">
        <i class="fas" [class.fa-eye]="!showCurrentPassword" [class.fa-eye-slash]="showCurrentPassword"></i>
      </button>
    </div>
    <div *ngIf="password.touched && password.errors?.['required']" class="error-message">
      <i class="fas fa-exclamation-circle"></i>
      این فیلد الزامی است
    </div>
  </div>

  <!-- New Password -->
  <div class="form-group">
    <label class="form-label">
      <i class="fas fa-lock label-icon"></i>
      پسورد جدید
      <span class="required-star">*</span>
    </label>
    <div class="input-wrapper">
      <input 
        [type]="showNewPassword ? 'text' : 'password'" 
        class="form-input" 
        id="newPassword" 
        [(ngModel)]="model.newPassword" 
        name="newPassword" 
        #newPassword="ngModel" 
        required
        placeholder="پسورد جدید را وارد کنید"
        dir="ltr">
      <button type="button" class="toggle-password" (click)="showNewPassword = !showNewPassword">
        <i class="fas" [class.fa-eye]="!showNewPassword" [class.fa-eye-slash]="showNewPassword"></i>
      </button>
    </div>
    <div *ngIf="newPassword.touched && newPassword.errors?.['required']" class="error-message">
      <i class="fas fa-exclamation-circle"></i>
      این فیلد الزامی است
    </div>
  </div>
</form>

<!-- Modal Footer -->
<div class="modal-footer" dir="rtl">
  <button type="button" class="btn-cancel" (click)="close()">
    <i class="fas fa-times"></i>
    انصراف
  </button>
  <button type="button" class="btn-submit" (click)="myForm.ngSubmit.emit()" [disabled]="myForm.invalid">
    <i class="fas fa-check"></i>
    ثبت تغییرات
  </button>
</div>
